<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr">


<!-- Mirrored from adventuresinsoftware.com/blog/?m=200905 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 12:42:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>Adventures in Software   &raquo; 2009&raquo; May</title>

<meta name="generator" content="WordPress 2.3.3" /> <!-- leave this for stats -->

<link rel="stylesheet" href="wp-content/themes/ais2/style.css" type="text/css" media="screen" />
<link rel="alternate" type="application/rss+xml" title="Adventures in Software RSS Feed" href="indexd784.html?feed=rss2" />
<link rel="pingback" href="xmlrpc.html" />
    <script type="text/javascript">
        function onSilverlightError(sender, args) {
            var appSource = "";
            if (sender != null && sender != 0) {
              appSource = sender.getHost().Source;
            }
            
            var errorType = args.ErrorType;
            var iErrorCode = args.ErrorCode;

            if (errorType == "ImageError" || errorType == "MediaError") {
              return;
            }

            var errMsg = "Unhandled Error in Silverlight Application " +  appSource + "\n" ;

            errMsg += "Code: "+ iErrorCode + "    \n";
            errMsg += "Category: " + errorType + "       \n";
            errMsg += "Message: " + args.ErrorMessage + "     \n";

            if (errorType == "ParserError") {
                errMsg += "File: " + args.xamlFile + "     \n";
                errMsg += "Line: " + args.lineNumber + "     \n";
                errMsg += "Position: " + args.charPosition + "     \n";
            }
            else if (errorType == "RuntimeError") {           
                if (args.lineNumber != 0) {
                    errMsg += "Line: " + args.lineNumber + "     \n";
                    errMsg += "Position: " +  args.charPosition + "     \n";
                }
                errMsg += "MethodName: " + args.methodName + "     \n";
            }

            throw new Error(errMsg);
        }
    </script>

	<link rel="EditURI" type="application/rsd+xml" title="RSD" href="xmlrpc0db0.php?rsd" />
 <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="wp-includes/wlwmanifest.xml" /> <style type='text/css'>
<!--#header { background: url('wp-content/themes/ais2/images/header-imgae03.html?upper=A7A73F&amp;lower=77773F') no-repeat bottom center; }
--></style>
</head>
<body>
<div id="page">

<div class="aisTopBar">
	<form method="get" id="searchform" action="http://adventuresinsoftware.com/blog/">
<div>
<a href="indexd784.html?feed=rss2"><img src="../images/feed-icon-28x28.png" border="0"></a>
<input type="text" value="" name="s" id="s" />
<input type="submit" id="searchsubmit" value="Search" />
</div>
</form>
</div>

<div class="aisHeaderImageRight">
	<div class="aisHeaderImage">
	<div class="aisHeaderCornerRight">
	<div class="aisHeaderCornerLeft">
	<div class="aisImageBar">
	<div class="aisSubSites">
		<a href="index.html" class="aisSubSiteLink"><span class="aisSiteTabRight"><span class="aisSiteTabLeft"><span class="aisSiteTab">
			home</span></span></span></a>
		<a class="aisSubSiteLink" href="indexb60a.html?cat=27"><span class="aisSiteTabRight"><span class="aisSiteTabLeft"><span class="aisSiteTab">
			historic modeling</span></span></span></a>
		<a class="aisSubSiteLink" href="indexa88f.html?cat=36"><span class="aisSiteTabRight"><span class="aisSiteTabLeft"><span class="aisSiteTab">
			update controls</span></span></span></a>
		<a href="index2d79.html?cat=26" class="aisSubSiteLink"><span class="aisSiteTabRight"><span class="aisSiteTabLeft"><span class="aisSiteTab">
			degrees of freedom</span></span></span></a>
		<a class="aisSubSiteLink" href="indexba53.html?page_id=2"><span class="aisSiteTabRight"><span class="aisSiteTabLeft"><span class="aisSiteTab">
			about us</span></span></span></a>

	</div>
	</div>
	</div>
	</div>
	</div>
</div>

<table style="width: 100%" cellspacing="0" cellpadding="0">
	<tr valign="top">
		<td width="210px">
<div id="sidebar">
<div class="aisLeftColumnFill">
<div class="aisLeftColumnBottom">
<div class="aisLeftColumnTop">
<div id="twitter_div" class="aisLeftNav">
<h2 class="sidebar-title">Twitter Updates</h2>
<ul id="twitter_update_list"></ul>
<a href="http://twitter.com/michaellperry" id="follow">Follow me</a>
</div>
<div id="twitter_reply_div" class="aisLeftNav">
<h2 class="sidebar-title">Twitter Replies</h2>
<ul id="twitter_reply_list"></ul>
</div>

<div class="aisLeftNav">
<a href='http://ineta.org/Speakers/SearchCommunitySpeakers.aspx?SpeakerId=c5110e21-9243-461b-a464-a6548524e885'><img alt='INETA Community Speakers Program' border='0' src='../../www.ineta.org/images/OfficialLogos/InetaCommunitySpeakersRequestMe.html' /></a>
</div>

<div class="aisLeftNav">
	<li class="pagenav"><h2>Pages</h2><ul><li class="page_item page-item-2"><a href="indexba53.html?page_id=2" title="About Us">About Us</a></li>
<li class="page_item page-item-210"><a href="index6ae3.html?page_id=210" title="Templates">Templates</a></li>
</ul></li></div>

<div class="aisLeftNav">
<h2>Archives</h2>
<ul>
	<li><a href='indexb4d5.html?m=201110' title='October 2011'>October 2011</a></li>
	<li><a href='indexc61a.html?m=201106' title='June 2011'>June 2011</a></li>
	<li><a href='indexa80d.html?m=201105' title='May 2011'>May 2011</a></li>
	<li><a href='index512b.html?m=201104' title='April 2011'>April 2011</a></li>
	<li><a href='index08fb.html?m=201103' title='March 2011'>March 2011</a></li>
	<li><a href='index52f4.html?m=201102' title='February 2011'>February 2011</a></li>
	<li><a href='index74f1.html?m=201101' title='January 2011'>January 2011</a></li>
	<li><a href='index8956.html?m=201012' title='December 2010'>December 2010</a></li>
	<li><a href='indexa1aa.html?m=201011' title='November 2010'>November 2010</a></li>
	<li><a href='indexe3d5.html?m=201010' title='October 2010'>October 2010</a></li>
	<li><a href='index9ab9.html?m=201009' title='September 2010'>September 2010</a></li>
	<li><a href='index1ff0.html?m=201008' title='August 2010'>August 2010</a></li>
	<li><a href='index9f11.html?m=201007' title='July 2010'>July 2010</a></li>
	<li><a href='index31f0.html?m=201006' title='June 2010'>June 2010</a></li>
	<li><a href='indexd189.html?m=201005' title='May 2010'>May 2010</a></li>
	<li><a href='indexb5c0.html?m=201004' title='April 2010'>April 2010</a></li>
	<li><a href='indexf258.html?m=201003' title='March 2010'>March 2010</a></li>
	<li><a href='index6e30.html?m=201002' title='February 2010'>February 2010</a></li>
	<li><a href='index6b19.html?m=201001' title='January 2010'>January 2010</a></li>
	<li><a href='index5c0a.html?m=200912' title='December 2009'>December 2009</a></li>
	<li><a href='index8f62.html?m=200911' title='November 2009'>November 2009</a></li>
	<li><a href='index451d.html?m=200910' title='October 2009'>October 2009</a></li>
	<li><a href='index3e04.html?m=200909' title='September 2009'>September 2009</a></li>
	<li><a href='index425a.html?m=200908' title='August 2009'>August 2009</a></li>
	<li><a href='index9907.html?m=200907' title='July 2009'>July 2009</a></li>
	<li><a href='index3104.html?m=200906' title='June 2009'>June 2009</a></li>
	<li><a href='indexc36d.html?m=200905' title='May 2009'>May 2009</a></li>
	<li><a href='index17e8.html?m=200904' title='April 2009'>April 2009</a></li>
	<li><a href='index10a5.html?m=200903' title='March 2009'>March 2009</a></li>
	<li><a href='index8988.html?m=200902' title='February 2009'>February 2009</a></li>
	<li><a href='index1419.html?m=200901' title='January 2009'>January 2009</a></li>
	<li><a href='index7866.html?m=200812' title='December 2008'>December 2008</a></li>
	<li><a href='index55f6.html?m=200811' title='November 2008'>November 2008</a></li>
	<li><a href='indexa7bc.html?m=200810' title='October 2008'>October 2008</a></li>
	<li><a href='indexe77c.html?m=200809' title='September 2008'>September 2008</a></li>
	<li><a href='indexcffc.html?m=200808' title='August 2008'>August 2008</a></li>
	<li><a href='index0e62.html?m=200807' title='July 2008'>July 2008</a></li>
	<li><a href='indexfda7.html?m=200806' title='June 2008'>June 2008</a></li>
	<li><a href='index7d64.html?m=200805' title='May 2008'>May 2008</a></li>
	<li><a href='index94dd.html?m=200804' title='April 2008'>April 2008</a></li>
	<li><a href='index9631.html?m=200803' title='March 2008'>March 2008</a></li>
	<li><a href='indexdd52.html?m=200802' title='February 2008'>February 2008</a></li>
	<li><a href='index21ee.html?m=200801' title='January 2008'>January 2008</a></li>
	<li><a href='index363c.html?m=200712' title='December 2007'>December 2007</a></li>
	<li><a href='index7493.html?m=200711' title='November 2007'>November 2007</a></li>
	<li><a href='index93a7.html?m=200710' title='October 2007'>October 2007</a></li>
	<li><a href='index4ca8.html?m=200709' title='September 2007'>September 2007</a></li>
	<li><a href='index6124.html?m=200708' title='August 2007'>August 2007</a></li>
	<li><a href='index6013.html?m=200707' title='July 2007'>July 2007</a></li>
	<li><a href='index2ab6.html?m=200706' title='June 2007'>June 2007</a></li>
	<li><a href='index44f0.html?m=200705' title='May 2007'>May 2007</a></li>
	<li><a href='indexf0b4.html?m=200704' title='April 2007'>April 2007</a></li>
	<li><a href='index481d.html?m=200703' title='March 2007'>March 2007</a></li>
	<li><a href='indexcbea.html?m=200702' title='February 2007'>February 2007</a></li>
	<li><a href='index9cdc.html?m=200701' title='January 2007'>January 2007</a></li>
	<li><a href='index3ea4.html?m=200612' title='December 2006'>December 2006</a></li>
	<li><a href='index67ca.html?m=200611' title='November 2006'>November 2006</a></li>
	<li><a href='indexff49.html?m=200610' title='October 2006'>October 2006</a></li>
	<li><a href='index611c.html?m=200609' title='September 2006'>September 2006</a></li>
	<li><a href='index9a21.html?m=200608' title='August 2006'>August 2006</a></li>
	<li><a href='index3ee9.html?m=200607' title='July 2006'>July 2006</a></li>
	<li><a href='indexe13a.html?m=200606' title='June 2006'>June 2006</a></li>
</ul>
</div>

<div class="aisLeftNav">
	</div>

<div class="aisLeftNav">
<h2>Books</h2>
<iframe src="http://rcm.amazon.com/e/cm?t=adventures0d2-20&amp;o=1&amp;p=8&amp;l=as1&amp;asins=0764526413&amp;fc1=000000&amp;IS2=1&amp;lt1=_blank&amp;lc1=0000ff&amp;bc1=000000&amp;bg1=ffffff&amp;f=ifr" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" name="I5" id="I5"></iframe>
<br/>
<iframe src="http://rcm.amazon.com/e/cm?t=adventures0d2-20&amp;o=1&amp;p=8&amp;l=as1&amp;asins=0201633612&amp;fc1=000000&amp;IS2=1&amp;lt1=_blank&amp;lc1=0000ff&amp;bc1=000000&amp;bg1=ffffff&amp;f=ifr" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" name="I6" id="I6"></iframe>
<br/>
<iframe src="http://rcm.amazon.com/e/cm?t=adventures0d2-20&amp;o=1&amp;p=8&amp;l=as1&amp;asins=0136291554&amp;fc1=000000&amp;IS2=1&amp;lt1=_blank&amp;lc1=0000ff&amp;bc1=000000&amp;bg1=ffffff&amp;f=ifr" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" name="I7" id="I7"></iframe>
<br/>
<iframe src="http://rcm.amazon.com/e/cm?t=adventures0d2-20&amp;o=1&amp;p=8&amp;l=as1&amp;asins=1888009195&amp;fc1=000000&amp;IS2=1&amp;lt1=_blank&amp;lc1=0000ff&amp;bc1=000000&amp;bg1=ffffff&amp;f=ifr" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" name="I8" id="I8"></iframe>
</div>
<div class="aisLeftNav">
<h2>Meta</h2>
<ul>
		<li><a href="wp-login.html">Login</a></li>
	<li><a href="http://validator.w3.org/check/referer" title="This page validates as XHTML 1.0 Transitional">Valid <abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a></li>
	<li><a href="http://gmpg.org/xfn/"><abbr title="XHTML Friends Network">XFN</abbr></a></li>
	<li><a href="http://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress</a></li>
	</ul>
</div>
<div class="aisLeftContent">
<h2>Community</h2>
<ul>
	<script type="text/javascript" src="../../localhost/embed/92q2bbma.js"></script>
</ul>
</div>

</div></div></div>
</div>		</td>
		<td>

	<div id="content" class="narrowcolumn">

		
		 		<h2 class="pagetitle">Archive for May, 2009</h2>

		

		<div class="navigation">
			<div class="alignleft"></div>
			<div class="alignright"></div>
		</div>

				<div class="post">
				<h3 id="post-369"><a href="index0261.html?p=369" rel="bookmark" title="Permanent Link to Big (D)esign Conference 2009">Big (D)esign Conference 2009</a></h3>
				<small>Saturday, May 30th, 2009</small>

				<div class="entry">
					<p>The Big (D)esign Conference was an upbeat collaboration among designers, developers, and strategists. The common theme was finding ways to improve the quality of peoples lives through software. That's a theme that resonates with me, as I have made that my personal and professional mission.</p>
<p>This was a brand new conference. As such, there were some minor logistical problems, like a scarcity of water. But the attendees took to Twitter and the organizers responded. By the end of lunch, water bottles were abundant.</p>
<p>That's just one example of the dynamic nature of this conference. It wasn't about people expecting a solution to be handed to them. It was about people finding solutions, responding to needs, and making the conference a success. The organizers did a great job, but it was the attitude of the attendees -- who really made the conference their own -- that made this day a success.</p>
<p>The <a href="http://search.twitter.com/search?q=BigD09">Twitter hash tag</a> was in full force during the conference. Many attendees Twittered salient points of the presentations, their own opinions of the topics, or just their sandwich selection. The Twitter stream was as lively a conversation as any occurring in the hall. Through this conversation, I made several new friends.</p>
<p>In addition to making new friends, I ran into some old ones. One of my old friends, <a href="http://twitter.com/tscott">T. Scott</a>, is a designer. He <a href="http://www.yfrog.com/froggy.php?username=TScott">recorded his notes</a> and uploaded them for all to enjoy. So I decided to do the same, in my own way. My writing is not so beautiful, so here is a transcription of my notes from the sessions I attended.</p>
<p><strong>Keynote: Norm Cox, Interaction Therapist</strong><br />Titles are limiting. When we think of ourselves as developer, designer, business analyst, or architect, we tell ourselves (and others) that that is all we do. We limit our own thinking.</p>
<p>We should instead become jacks of many trades, masters of some. Know all of the disciplines related to solving someone's problem. Know which ones you are particularly good at, but don't let your skill set limit your solution.</p>
<p>Clients don't know what they need. Don't do exactly as they tell you to. Be a therapist. See the big picture. Find the real problem. Don't limit yourself to the client's expectations.</p>
<p><strong>Chris Koenig: Touch Computing</strong><br />A Natural User Interface (NUI) is touch, gesture, manipulation, and more. It doesn't replace the keyboard or the mouse. It is designed for different scenarios. And sometimes, it augments them.</p>
<p>NUI is good for free-form exploration and social interaction. It is not good for precision. It is not good for data density. Those are best left to the keyboard and mouse.</p>
<p>Touch is not click. Don't take old metaphors and idioms and apply them to NUI. This is a new space, with a new set of benefits. Add it to your tool belt, but don't replace your trusted tools.</p>
<p><strong>Stephen P Anderson: The Art and Science of Seductive Interactions</strong><br />Good usability lowers friction. But that's not enough. You also need to increase motivation. That can only be achieved by understanding psychology.</p>
<p>People respond to levels and rewards. LinkedIn rates the completeness of your profile, and tells you what to do to take it to the next level. That motivates people to behave the way LinkedIn wants. This behavior benefits LinkedIn, but it also benefits the individual.</p>
<p>Seduction is deliberately enticing a person to perform a desired behavior. It requires feedback. The person needs to see that their actions modify the results. Their curiosity will lead them to try other behaviors and see how the results change.</p>
<p>People respond to visual imagery. They look for patterns in everything they see. They recognize, even if they can't recall. Software that uses these traits to its advantage will successfully guide users to perform the desired behavior. So show people images and have them find patterns that give you information about them. Don't give them a blank slate and ask them to recall that information.</p>
<p><strong>Bill Scott, design patterns you should know</strong><br />Nuance is where a lot of good interaction is missed. Pay attention to the details to eliminate friction.</p>
<p>Make it direct. Where there is output, let there also be input. Let interactions be symmetric; don't enter a feature one way and leave it another.</p>
<p>Make it lightweight. Interactions have a "click-weight". Too many interactions, and your users are going to get tired and go away.</p>
<p>Avoid confusing and annoying anti-patterns. Don't hover-and-cover, popping up new content over old content, or hiding navigation. Avoid "mystery meat" navigation, when the user doesn't know what a click is going to do until they do it. Follow Fitts' Law and give the users a big enough target.</p>
<p>Stay on the page. Use overlays (pop-out) and inlays (slide-down) wisely. Don't stop the proceedings with idiocy. Use carousels, endless scrolling, and deep zoom where appropriate.</p>
<p>Offer an invitation. Play on your user's curiosity. Give them a call to action. Show them the steps involved. Walk them through. Make it discoverable.</p>
<p>Show transitions. Fade in and out. Animate zoom and motion to draw people to the next state.</p>
<p><strong>Garrett Dimon, Feedback and Feature Requests</strong><br />The creator of Sifter talks about how he solicits feedback from his customers, and how he rolls that in to new features of the product.</p>
<p>The lifecycle of feedback is: generate, receive, reply, absorb, and respond. Generate feedback by actively soliciting it from your users. Receive it in the form of analytics, web forms, email, phone calls, and anything else that is accessible to your users. Reply quickly to tell them whether you're looking into it, or if not why. Take the time to absorb the feature request and consider its full impact. Then respond by implementing the feature, a different feature, or giving the customer the results of your full consideration.</p>
<p>Don't be afraid to be transparent in your product development process. People will not steal your ideas. If your idea is really great, you are going to have to shove it down their throats.</p>
<p>If it needs instructions, then it's broken. Instead of explaining to people how to use your software, fix the problem. If you have Frequently Asked Questions, you have feedback. Fix it.</p>
<p>The proportion of criticism to encouragement is absurd. It will bring you down. But always be upbeat when you reply. It will turn the conversation around and open a constructive dialog.</p>
<p>Always think about the need, not the prescription. Find out what problem people have. Don't give them the solution they ask for. Don't abdicate software design to the users. Listen to them, then deliver a solution.</p>
<p>There are no takebacks with features. Consider whether it really belongs in your product before adding it. It may delight some people but confuse others. If you add it, you will have to support it for the life of the product.</p>
<p><strong>Todd Wilkens, Saying "No" and Failing</strong><br />Saying "No" limits the scope and gives you clear focus. First evaluate features based on importance and feasibility. Implement the ones that are important and feasible. Consider the ones in the middle. Ignore the ones at the low end of the scales.</p>
<p>Design is about specific customer value. Start with the things that you can do exceedingly well, and deliver that value completely. Each evolutionary step after that should provide complete customer value for a new problem, not a new part of an incomplete solution.</p>
<p>Failure is always an option. Everybody fails often. Just make sure you are failing forward. Fail early and often, and learn from each iteration.</p>
<p>If failure is not allowed, then risk is not allowed. The companies that succeed openly encourage failure internally. Separate personal feelings from ideas, so that the ideas can fail without damaging the people.</p>
<p>Have a conversation with the materials. Through the process of making something, we change the thing that we are making in response to the stuff that we are making it out of. Create an informal iterative process for failing often.</p>
<p><strong>Thor Muller, Work Like the Network</strong><br />Challenge the assumption of industry: that it is expensive to coordinate a large number of people to build something. When we move electrons instead of molecules, those economics no longer hold. The use of a physical product reduces its value. The use of an idea increases its value.</p>
<p>There are six ways to remodel the organization to act more like a network.</p>
<table cellspacing="0" cellpadding="2" width="400" border="0">
<tbody>
<tr>
<td valign="top" width="200"><strong>Move from</strong></td>
<td valign="top" width="200"><strong>To</strong></td>
</tr>
<tr>
<td valign="top" width="200">Control</td>
<td valign="top" width="200">Chaos</td>
</tr>
<tr>
<td valign="top" width="200">Process</td>
<td valign="top" width="200">Flow</td>
</tr>
<tr>
<td valign="top" width="200">Documentation</td>
<td valign="top" width="200">Collaboration</td>
</tr>
<tr>
<td valign="top" width="200">Fear</td>
<td valign="top" width="200">Confidence</td>
</tr>
<tr>
<td valign="top" width="200">Hidden</td>
<td valign="top" width="200">Shown</td>
</tr>
<tr>
<td valign="top" width="200">Ownership</td>
<td valign="top" width="200">Stewardship</td>
</tr>
</tbody>
</table>
<p>It was a relief to hear someone talk about agile processes and flow without being dogmatic about it. Thor just demonstrated the value of these principles, and showed how organizations have applied them successfully.</p>
<p><strong>Christina Wasson, When Design Met Anthropology</strong><br />Ethnographic anthropology is the study of cultures by becoming an observant participant. It is a systematic approach involving capturing information, coding it, and analyzing it. These techniques can be applied to software to give us a scientific basis for measuring the quality of a design.</p>
<p>Ironically, the case study that Christina shared was juxtaposed against the spirit of the conference. a study of Social TV, a Motorola project to join families in different living rooms around the viewing experience. The case study was punctuated by videos of people talking about how they negotiate over the remote, how television fits in with their lives, and how their family members react. It was depressing to see people still engaging in a one-sided conversation with old media, instead of using their talents to create something awesome.</p>
<p>I'm excited to have met such a fantastic group of people. I look forward to working with them to improve the quality of peoples lives through software. I'm looking forward to checking in next year to see how we've done.</p>
				</div>

				<p class="postmetadata">Posted in <a href="indexd65e.html?cat=8" title="View all posts in User Interface" rel="category">User Interface</a> |   <a href="index0261.html?p=369#respond" title="Comment on Big (D)esign Conference 2009">No Comments &#187;</a></p>

			</div>

				<div class="post">
				<h3 id="post-368"><a href="index5ee4.html?p=368" rel="bookmark" title="Permanent Link to SQL injection attack via email address">SQL injection attack via email address</a></h3>
				<small>Thursday, May 28th, 2009</small>

				<div class="entry">
					<p>Here's a perfect example of the wrong way to defend against SQL injection attacks.</p>
<p>I am trying to obtain a license for <a href="http://www.ndepend.com/NDependDownload.aspx">NDepend</a> for use in my open source project Update Controls. Their download form asks for an email address. So I provided the email address I use for that project. The form didn't like it:</p>
<p align="center"><a href="wp-content/uploads/2009/05/sqlinjection.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="78" alt="SQLinjection" src="wp-content/uploads/2009/05/sqlinjection-thumb.png" width="521" border="0"></a></p>
<p><a href="http://xkcd.com/327/">XKCD</a> warns us to "sanitize our database inputs". That is completely wrong. Honor the user's input, but treat it as text, not code.</p>
				</div>

				<p class="postmetadata">Posted in <a href="indexc728.html?cat=7" title="View all posts in Databases" rel="category">Databases</a> |   <a href="index5ee4.html?p=368#comments" title="Comment on SQL injection attack via email address">2 Comments &#187;</a></p>

			</div>

				<div class="post">
				<h3 id="post-365"><a href="index18ee.html?p=365" rel="bookmark" title="Permanent Link to A View Model based approach to star ratings">A View Model based approach to star ratings</a></h3>
				<small>Thursday, May 28th, 2009</small>

				<div class="entry">
					<p>While researching for Commuter, I found several implementations of star-rating controls on the web. Here are a few:</p>
<ul>
<li><a href="http://codingbandit.com/Blog/blog/wpf-data-templates-part-2-value-converters/">Coding Bandit's Rating Converter</a></li>
<li><a href="http://social.msdn.microsoft.com/Forums/en-US/wpf/thread/38e7296a-9892-4719-a69d-a89dea1549c0">Zhou Young's Rating Buttons</a></li>
<li><a href="http://www.codeproject.com/KB/WPF/WPF_Media_Player.aspx">Sachra Barber's Media Player</a></li>
</ul>
<p>There's some good work here, so give them a read. However, a common theme was to control the stars with code. I wanted to do a purely View Model driven design to limit the amount of code necessary.</p>
<p><strong>The View Model is dependent behavior</strong><br /><a href="wp-content/uploads/2009/05/commuter-view.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="304" alt="Commuter View" src="wp-content/uploads/2009/05/commuter-view-thumb.png" width="396" align="right" border="0"></a> The first thing to realize is that a star rating control is a combination of independent and dependent behavior. While the rating itself is independent, the state of each star is dependent. The independent data lives in the model, and the dependent data lives in the View Model. So I changed the podcast View Model contract to this:</p>
<pre><span style="color: blue">public</span> <span style="color: blue">interface</span> IPodcast
{
    <span style="color: blue">string</span> Name { <span style="color: blue">get</span>; }
    <span style="color: blue">bool</span> Selected { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
    <span style="color: blue">bool</span> Rank1 { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
    <span style="color: blue">bool</span> Rank2 { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
    <span style="color: blue">bool</span> Rank3 { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
    <span style="color: blue">bool</span> Rank4 { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
    <span style="color: blue">bool</span> Rank5 { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
}
</pre>
<p>This lets me just drop five ordinary check boxes and bind them to the five properties. Well, not <em>ordinary</em> check boxes. Mine look like cars. Here's a <a href="http://expression.microsoft.com/en-us/dd279539.aspx">step-by-step guide for styling a control</a>. Use the same technique to create star checkboxes, if you are so inclined.</p>
<p><strong>Implement the View Model contract</strong><br />A star -- er a <em>car</em> -- is on if the rating is greater than or equal to its value. When a car is clicked, it sets the rank to its value. This logic is encoded in the View Model like this:</p>
<pre><span style="color: blue">public</span> <span style="color: blue">class</span> PodcastViewModel : IPodcast
{
    <span style="color: blue">private</span> Podcast _model;

    <span style="color: blue">public</span> PodcastViewModel(Podcast model)
    {
        _model = model;
    }

    <span style="color: blue">public</span> <span style="color: blue">string</span> Name
    {
        <span style="color: blue">get</span> { <span style="color: blue">return</span> _model.Name; }
        <span style="color: blue">set</span> { _model.Name = value; }
    }

    <span style="color: blue">public</span> <span style="color: blue">bool</span> Selected
    {
        <span style="color: blue">get</span> { <span style="color: blue">return</span> _model.Selected; }
        <span style="color: blue">set</span> { _model.Selected = value; }
    }

    <span style="color: blue">public</span> <span style="color: blue">bool</span> Rank1
    {
        <span style="color: blue">get</span> { <span style="color: blue">return</span> _model.Rank &gt;= <span style="color: maroon">1</span>; }
        <span style="color: blue">set</span> { _model.Rank = <span style="color: maroon">1</span>; }
    }
    <span style="color: blue">public</span> <span style="color: blue">bool</span> Rank2
    {
        <span style="color: blue">get</span> { <span style="color: blue">return</span> _model.Rank &gt;= <span style="color: maroon">2</span>; }
        <span style="color: blue">set</span> { _model.Rank = <span style="color: maroon">2</span>; }
    }
    <span style="color: blue">public</span> <span style="color: blue">bool</span> Rank3
    {
        <span style="color: blue">get</span> { <span style="color: blue">return</span> _model.Rank &gt;= <span style="color: maroon">3</span>; }
        <span style="color: blue">set</span> { _model.Rank = <span style="color: maroon">3</span>; }
    }
    <span style="color: blue">public</span> <span style="color: blue">bool</span> Rank4
    {
        <span style="color: blue">get</span> { <span style="color: blue">return</span> _model.Rank &gt;= <span style="color: maroon">4</span>; }
        <span style="color: blue">set</span> { _model.Rank = <span style="color: maroon">4</span>; }
    }
    <span style="color: blue">public</span> <span style="color: blue">bool</span> Rank5
    {
        <span style="color: blue">get</span> { <span style="color: blue">return</span> _model.Rank &gt;= <span style="color: maroon">5</span>; }
        <span style="color: blue">set</span> { _model.Rank = <span style="color: maroon">5</span>; }
    }
}
</pre>
<p>The View Model does not maintain any state of its own. It delegates everything to the model. It is just a translator that converts model values into view behaviors.</p>
<p><strong>Implement INotifyPropertyChanged</strong><br />Oh, wait! You don't need to do that. Just use Independent sentries in your data model:</p>
<pre><span style="color: blue">public</span> <span style="color: blue">class</span> Podcast
{
    <span style="color: blue">private</span> <span style="color: blue">string</span> _name = <span style="color: blue">string</span>.Empty;
    <span style="color: blue">private</span> <span style="color: blue">bool</span> _selected = <span style="color: maroon">false</span>;
    <span style="color: blue">private</span> <span style="color: blue">int</span> _rank = <span style="color: maroon">1</span>;

    <span style="color: blue">#region</span> Independent properties
    <span style="color: green">// Generated by Update Controls --------------------------------</span>
    <span style="color: blue">private</span> Independent _indName = <span style="color: blue">new</span> Independent();
    <span style="color: blue">private</span> Independent _indSelected = <span style="color: blue">new</span> Independent();
    <span style="color: blue">private</span> Independent _indRank = <span style="color: blue">new</span> Independent();

    <span style="color: blue">public</span> <span style="color: blue">string</span> Name
    {
        <span style="color: blue">get</span> { _indName.OnGet(); <span style="color: blue">return</span> _name; }
        <span style="color: blue">set</span> { _indName.OnSet(); _name = value; }
    }

    <span style="color: blue">public</span> <span style="color: blue">bool</span> Selected
    {
        <span style="color: blue">get</span> { _indSelected.OnGet(); <span style="color: blue">return</span> _selected; }
        <span style="color: blue">set</span> { _indSelected.OnSet(); _selected = value; }
    }

    <span style="color: blue">public</span> <span style="color: blue">int</span> Rank
    {
        <span style="color: blue">get</span> { _indRank.OnGet(); <span style="color: blue">return</span> _rank; }
        <span style="color: blue">set</span> { _indRank.OnSet(); _rank = value; }
    }
    <span style="color: green">// End generated code --------------------------------</span>
    <span style="color: blue">#endregion</span>
}
</pre>
<p>And then wrap the view model for the view (requires <a href="http://updatecontrols.net/">Update Controls</a> release 2.0.4.0 or better):</p>
<pre><span style="color: blue">public</span> <span style="color: blue">partial</span> <span style="color: blue">class</span> Window1 : Window
{
    <span style="color: blue">public</span> Window1()
    {
        InitializeComponent();
        DataContext = <strong>ForView.Wrap</strong>(<span style="color: blue">new</span> CommuterViewModel(<span style="color: blue">new</span> CommuterModel()));
    }
}</pre>
<p>Now when you click on any of the cars, it will set the Rank property in the data model. Since all of the check boxes depend upon that one Rank, they are all updated accordingly.</p>
				</div>

				<p class="postmetadata">Posted in <a href="indexc733.html?cat=38" title="View all posts in Commuter" rel="category">Commuter</a>,  <a href="indexa88f.html?cat=36" title="View all posts in Update Controls" rel="category">Update Controls</a> |   <a href="index18ee.html?p=365#respond" title="Comment on A View Model based approach to star ratings">No Comments &#187;</a></p>

			</div>

				<div class="post">
				<h3 id="post-362"><a href="indexe4db.html?p=362" rel="bookmark" title="Permanent Link to Queries are dependent; records are independent">Queries are dependent; records are independent</a></h3>
				<small>Tuesday, May 26th, 2009</small>

				<div class="entry">
					<p>I just requested a change to a use case that will save the project two man-weeks.</p>
<p><strong>eCommerce users and accounts</strong><br />In the ABSG eCommerce system, a user shops on behalf of an account. Some users can shop on behalf of more than one account, so they get to choose at the beginning of their shopping experience. We populate their list of choices from all of the accounts to which they have access.</p>
<p>Employees of ABSG log on to the eCommerce system to help people. Some of these employees are sales representatives for certain accounts. Every account as one sales rep.</p>
<p>Not all users are employees, and not all employees are users. We enter an employee ID in the user profile to relate the two.</p>
<p><strong>The UserAccount table</strong><br /><a href="wp-content/uploads/2009/05/useraccountaccesserd.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="248" alt="UserAccountAccessERD" src="wp-content/uploads/2009/05/useraccountaccesserd-thumb.png" width="441" align="right" border="0"></a> We have an associative table that relates users with the accounts that they have access to. This is the table that we use to present the list of choices at the beginning of the user's shopping experience.</p>
<p>I'm sure at one point the BA asked me how a user is granted access to an account. I told her about the UserAccount table. It was probably that conversation that led to the Automatic Account Access use case.</p>
<p><strong>Automatic account access</strong><br />Use case 1019: Automatic Account Access stated that the system shall periodically check for changes:</p>
<ul>
<li>An account is created or deleted.</li>
<li>A user is created or deleted.</li>
<li>The sales representative for an account is changed to a different employee.</li>
<li>The employee ID of a user is changed.</li>
</ul>
<p>When one of these changes happens, it will:</p>
<ul>
<li>Identify the sales rep user for each affected account.</li>
<li>If there is no existing UserAccount record for that sales rep, insert it.</li>
<li>If there is an existing UserAccount record for a prior sales rep, delete it.</li>
</ul>
<p>This to be accomplished via an impressive combination of replication, triggers, and cursors.</p>
<p><strong>The problems</strong><br />There are a number of problems with this approach.</p>
<ul>
<li>It would take a DBA a couple of weeks to build and test it.</li>
<li>Testing cannot be easily automated.</li>
<li>It has too many moving parts (a.k.a. degrees of freedom), each one of which would have to be monitored.</li>
<li>It is difficult to determine whether a UserAccount record was created automatically or intentionally. We could either delete UserAccount records that a human created, or fail to delete UserAccount records that a program created.</li>
<li>It does not take effect immediately. People could be diagnosing a failure of the system, only to learn that the process hasn't yet run.</li>
</ul>
<p>These are all symptomatic problems. Each one could be addressed individually. But here are the two big systemic problems:</p>
<ul>
<li>The use case dictated a solution.</li>
<li>The solution treated dependent behavior as independent behavior.</li>
</ul>
<p><strong>Here's my solution</strong><br />Use case 1019 has been deleted, and replaced with a single business rule in use case 1020: User Account Selection. This rule reads "A user may select any account for which their employee ID matches the accounts sales representative employee ID." No mention of how this is accomplished. That solves one problem.</p>
<p>To solve the other, we simply change the query that fetches the list of accounts at the beginning of the shopping experience. Instead of just getting UserAccount records, we also include accounts where account.SalesRepEmployeeID = user.EmployeeID. One small change to a query, instead of a rats nest of triggers.</p>
<p>The basic flaw in the Rube Goldberg reasoning that produced the original design was that it treated dependent behavior (which accounts the user could select) as independent behavior (UserAccount records). Changes to independent behavior (INSERTs, UPDATEs, and DELETEs) are permanent. Changes to dependent behavior (SELECTs) are not. It is therefore harder to code, test, monitor, and troubleshoot independent behavior. It is easier to do all of those things with dependent behavior.</p>
<p>Records are independent. Queries are dependent. Never use independent behavior when dependent behavior is sufficient.</p>
				</div>

				<p class="postmetadata">Posted in <a href="indexc728.html?cat=7" title="View all posts in Databases" rel="category">Databases</a>,  <a href="index2d79.html?cat=26" title="View all posts in dof" rel="category">dof</a> |   <a href="indexe4db.html?p=362#respond" title="Comment on Queries are dependent; records are independent">No Comments &#187;</a></p>

			</div>

				<div class="post">
				<h3 id="post-359"><a href="indexcaf0.html?p=359" rel="bookmark" title="Permanent Link to How to draw a car in Expression Blend">How to draw a car in Expression Blend</a></h3>
				<small>Sunday, May 24th, 2009</small>

				<div class="entry">
					<p>For the Commuter application, I want to rate podcasts. But instead of giving them a star rating, I decided to give them a "car" rating.</p>
<p><a href="wp-content/uploads/2009/05/car0.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="184" alt="My inspiration" src="wp-content/uploads/2009/05/car0-thumb.png" width="244" align="right" border="0"></a> I drive a blue Beetle, so naturally I decided that that would make the perfect template for my rating buttons. Here's how to draw a Beetle in Expression Blend.</p>
<p>Start with two circles for tires, and two circles for wheel wells. Choose the ellipse tool, and hold Shift while you drag from one corner to the opposite. Draw a small circle inside a big circle, then select both, hold Ctrl, and drag to create copies.</p>
<p><a href="wp-content/uploads/2009/05/car1.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="128" alt="Wheels and wheel wells" src="wp-content/uploads/2009/05/car1-thumb.png" width="244" border="0"></a> </p>
<p>Next, draw an ellipse for the body. Don't hold Shift while you drag, so the shape is unconstrained. The ellipse goes through the center of the front wheel, and is tangent with the back wheel. Switch to the rectangle tool to add a rounded rectangle for the bottom of the car.</p>
<p><a href="wp-content/uploads/2009/05/car2.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="151" alt="Body and trim" src="wp-content/uploads/2009/05/car2-thumb.png" width="244" border="0"></a> </p>
<p>Now we're going to use "Combine" operations to trim the shapes. When you combine two shapes, the originals are lost. We want to combine the rounded rectangle with several shapes, so we need to make copies of it.</p>
<p>The first operation will be to cut one wheel well with the rounded rectangle. Make a copy of the rectangle, select both it and one wheel well, and select "Combine: Intersect" from the "Object" menu. Repeat for the other wheel well, and for the body.</p>
<p><a href="wp-content/uploads/2009/05/car3.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="115" alt="Trim all parts" src="wp-content/uploads/2009/05/car3-thumb.png" width="244" border="0"></a></p>
<p>We are done with the rounded rectangle, so we can delete the original. Next, select the two wheel wells and the body and "Combine: Unite" them. There will be a strange dip where the front wheel well meets the windshield. We'll straighten this out by adding a rectangle.</p>
<p><a href="wp-content/uploads/2009/05/car4.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="115" alt="Flatten the dip" src="wp-content/uploads/2009/05/car4-thumb.png" width="244" border="0"></a>&nbsp; </p>
<p>Unite the rectangle with the outline of the car to complete the picture.</p>
<p><a href="wp-content/uploads/2009/05/car5.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="113" alt="Finished path" src="wp-content/uploads/2009/05/car5-thumb.png" width="244" border="0"></a> </p>
<p>Now we can use this path as the basis for rating buttons.</p>
				</div>

				<p class="postmetadata">Posted in <a href="indexc733.html?cat=38" title="View all posts in Commuter" rel="category">Commuter</a> |   <a href="indexcaf0.html?p=359#respond" title="Comment on How to draw a car in Expression Blend">No Comments &#187;</a></p>

			</div>

				<div class="post">
				<h3 id="post-346"><a href="index17f1.html?p=346" rel="bookmark" title="Permanent Link to Data Binding in Silverlight 3 Without INotifyPropertyChanged">Data Binding in Silverlight 3 Without INotifyPropertyChanged</a></h3>
				<small>Wednesday, May 20th, 2009</small>

				<div class="entry">
					<p><a href="http://updatecontrolslight.codeplex.com/">Update Controls for Silverlight 3</a> is in beta. Update Controls automatically discovers dependencies upon your data model, and updates the UI when that data changes. It does not require that you register for or fire PropertyChanged events.</p>
<p><strong>Step 1: Write your data model</strong><br />
Your data model is a set of plain-old CLR objects (POCOs). These objects have fields that store data, and properties that expose that data to consumers. They may also have validation logic, business logic, and other methods. The data model will be persisted, probably via a web service.</p>
<pre><span style="color: blue">public</span> <span style="color: blue">class</span> Customer
{
	<span style="color: blue">private</span> <span style="color: blue">string</span> _name;
	<span style="color: blue">private</span> List&lt;Invoice&gt; _invoices = <span style="color: blue">new</span> List&lt;Invoice&gt;();

	<span style="color: blue">public</span> <span style="color: blue">string</span> Name
	{
		<span style="color: blue">get</span> { <span style="color: blue">return</span> _name; }
		<span style="color: blue">set</span> { _name = value; }
	}

	<span style="color: blue">public</span> IEnumerable&lt;Invoice&gt; Invoices
	{
		<span style="color: blue">get</span> { <span style="color: blue">return</span> _invoices; }
	}

	<span style="color: blue">public</span> Invoice NewInvoice(<span style="color: blue">string</span> number)
	{
		Invoice invoice = <span style="color: blue">new</span> Invoice(number);
		_invoices.Add(invoice);
		<span style="color: blue">return</span> invoice;
	}
}

<span style="color: blue">public</span> <span style="color: blue">class</span> Payment
{
	<span style="color: blue">private</span> Customer _customer;
	<span style="color: blue">private</span> List&lt;Invoice&gt; _paidInvoices = <span style="color: blue">new</span> List&lt;Invoice&gt;();

	<span style="color: blue">public</span> Payment(Customer customer)
	{
		_customer = customer;
	}

	<span style="color: blue">public</span> Customer Customer
	{
		<span style="color: blue">get</span> { <span style="color: blue">return</span> _customer; }
	}

	<span style="color: blue">public</span> IEnumerable&lt;Invoice&gt; PaidInvoices
	{
		<span style="color: blue">get</span> { <span style="color: blue">return</span> _paidInvoices; }
	}

	<span style="color: blue">public</span> <span style="color: blue">void</span> AddPaidInvoice(Invoice invoice)
	{
		_paidInvoices.Add(invoice);
	}

	<span style="color: blue">public</span> <span style="color: blue">void</span> RemovePaidInvoice(Invoice invoice)
	{
		_paidInvoices.Remove(invoice);
	}
}</pre>
<p><strong>Step 2: Add Independent sentries</strong><br />
Add a reference to UpdateControls.Light.dll. Then create an Independent sentry for each field in your data model that can change. Call OnGet whenever you read the field, and OnSet whenever you change it.</p>
<pre><span style="color: blue">public</span> <span style="color: blue">class</span> Customer
{
	<span style="color: blue">private</span> <span style="color: blue">string</span> _name;
	<span style="color: blue">private</span> List&lt;Invoice&gt; _invoices = <span style="color: blue">new</span> List&lt;Invoice&gt;();

<strong>	<span style="color: blue">private</span> Independent _indName = <span style="color: blue">new</span> Independent();
	<span style="color: blue">private</span> Independent _indInvoices = <span style="color: blue">new</span> Independent();
</strong>
	<span style="color: blue">public</span> <span style="color: blue">string</span> Name
	{
		<span style="color: blue">get</span> { <strong>_indName.OnGet();</strong> <span style="color: blue">return</span> _name; }
		<span style="color: blue">set</span> { <strong>_indName.OnSet();</strong> _name = value; }
	}

	<span style="color: blue">public</span> IEnumerable&lt;Invoice&gt; Invoices
	{
		<span style="color: blue">get</span> { <strong>_indInvoices.OnGet();</strong> <span style="color: blue">return</span> _invoices; }
	}

	<span style="color: blue">public</span> Invoice NewInvoice(<span style="color: blue">string</span> number)
	{
		<strong>_indInvoices.OnSet();</strong>
		Invoice invoice = <span style="color: blue">new</span> Invoice(number);
		_invoices.Add(invoice);
		<span style="color: blue">return</span> invoice;
	}
}

<span style="color: blue">public</span> <span style="color: blue">class</span> Payment
{
	<span style="color: blue">private</span> Customer _customer;
	<span style="color: blue">private</span> List&lt;Invoice&gt; _paidInvoices = <span style="color: blue">new</span> List&lt;Invoice&gt;();

<strong>	<span style="color: blue">private</span> Independent _indPaidInvoices = <span style="color: blue">new</span> Independent();
</strong>
	<span style="color: blue">public</span> Payment(Customer customer)
	{
		_customer = customer;
	}

	<span style="color: blue">public</span> Customer Customer
	{
		<span style="color: blue">get</span> { <span style="color: blue">return</span> _customer; }
	}

	<span style="color: blue">public</span> IEnumerable&lt;Invoice&gt; PaidInvoices
	{
		<span style="color: blue">get</span> { <strong>_indPaidInvoices.OnGet();</strong> <span style="color: blue">return</span> _paidInvoices; }
	}

	<span style="color: blue">public</span> <span style="color: blue">void</span> AddPaidInvoice(Invoice invoice)
	{
		<strong>_indPaidInvoices.OnSet();
</strong>		_paidInvoices.Add(invoice);
	}

	<span style="color: blue">public</span> <span style="color: blue">void</span> RemovePaidInvoice(Invoice invoice)
	{
		<strong>_indPaidInvoices.OnSet();
</strong>		_paidInvoices.Remove(invoice);
	}
}</pre>
<p><strong>Step 3: Write your navigation model</strong><br />
The navigation model keeps track of all of the user's selection. It helps the user navigate through the data model. Use Independent sentries, just like you did for the data model. But unlike the data model, the navigation model is not persistent.</p>
<pre><span style="color: blue">public</span> <span style="color: blue">class</span> PaymentNavigationModel
{
	<span style="color: blue">private</span> Invoice _selectedUnpaidInvoice;
	<span style="color: blue">private</span> Invoice _selectedPaidInvoice;

	<span style="color: blue">private</span> Independent _indSelectedUnpaidInvoice = <span style="color: blue">new</span> Independent();
	<span style="color: blue">private</span> Independent _indSelectedPaidInvoice = <span style="color: blue">new</span> Independent();

	<span style="color: blue">public</span> Invoice SelectedUnpaidInvoice
	{
		<span style="color: blue">get</span> { _indSelectedUnpaidInvoice.OnGet(); <span style="color: blue">return</span> _selectedUnpaidInvoice; }
		<span style="color: blue">set</span> { _indSelectedUnpaidInvoice.OnSet(); _selectedUnpaidInvoice = value; }
	}

	<span style="color: blue">public</span> Invoice SelectedPaidInvoice
	{
		<span style="color: blue">get</span> { _indSelectedPaidInvoice.OnGet(); <span style="color: blue">return</span> _selectedPaidInvoice; }
		<span style="color: blue">set</span> { _indSelectedPaidInvoice.OnSet(); _selectedPaidInvoice = value; }
	}
}</pre>
<p><strong>Step 4: Write your view model</strong><br />
The view model interprets the data model for the view. It has no data of its own. It just references the data model and the navigation model. It has a property for every bindable control in the view. It also has an ICommand property for every action the user can perform.</p>
<pre><span style="color: blue">public</span> <span style="color: blue">class</span> PaymentViewModel
{
	<span style="color: blue">private</span> Payment _payment;
	<span style="color: blue">private</span> PaymentNavigationModel _navigation;

	<span style="color: blue">public</span> PaymentViewModel(Payment payment, PaymentNavigationModel navigation)
	{
		_payment = payment;
		_navigation = navigation;
	}

	<span style="color: blue">public</span> <span style="color: blue">string</span> CustomerName
	{
		<span style="color: blue">get</span> { <span style="color: blue">return</span> _payment.Customer.Name; }
		<span style="color: blue">set</span> { _payment.Customer.Name = value; }
	}

	<span style="color: blue">public</span> IEnumerable&lt;Invoice&gt; PaidInvoices
	{
		<span style="color: blue">get</span> { <span style="color: blue">return</span> _payment.PaidInvoices; }
	}

	<span style="color: blue">public</span> IEnumerable&lt;Invoice&gt; UnpaidInvoices
	{
		<span style="color: blue">get</span> { <span style="color: blue">return</span> _payment.Customer.Invoices.Except(_payment.PaidInvoices); }
	}

	<span style="color: blue">public</span> Invoice SelectedPaidInvoice
	{
		<span style="color: blue">get</span> { <span style="color: blue">return</span> _navigation.SelectedPaidInvoice; }
		<span style="color: blue">set</span> { <span style="color: blue"></span>_navigation.SelectedPaidInvoice = <span style="color: blue">value</span>; }
	}

	<span style="color: blue">public</span> Invoice SelectedUnpaidInvoice
	{
		<span style="color: blue">get</span> { <span style="color: blue">return</span> _navigation.SelectedUnpaidInvoice; }
		<span style="color: blue">set</span> { <span style="color: blue"></span>_navigation.SelectedUnpaidInvoice = <span style="color: blue">value</span>; }
	}

	<span style="color: blue">public</span> ICommand AddPaidInvoices
	{
		<span style="color: blue">get</span>
		{
			<span style="color: blue">return</span> MakeCommand
				.When(() =&gt; _navigation.SelectedUnpaidInvoice != <span style="color: blue">null</span>)
				.Do(() =&gt;
				{
					_payment.AddPaidInvoice(_navigation.SelectedUnpaidInvoice);
					_navigation.SelectedPaidInvoice = _navigation.SelectedUnpaidInvoice;
					_navigation.SelectedUnpaidInvoice = <span style="color: blue">null</span>;
				});
		}
	}

	<span style="color: blue">public</span> ICommand RemovePaidInvoices
	{
		<span style="color: blue">get</span>
		{
			<span style="color: blue">return</span> MakeCommand
				.When(() =&gt; _navigation.SelectedPaidInvoice != <span style="color: blue">null</span>)
				.Do(() =&gt;
				{
					_payment.RemovePaidInvoice(_navigation.SelectedPaidInvoice);
					_navigation.SelectedUnpaidInvoice = _navigation.SelectedPaidInvoice;
					_navigation.SelectedPaidInvoice = <span style="color: blue">null</span>;
				});
		}
	}
}</pre>
<p><strong>Step 5: Set the data context</strong><br />
Now comes the magic. At no point did you fire or register for PropertyChanged events. You just wrote code that was concerned with the rules of your business (data model) and your user interface (view model and navigation model). Update Controls will fire those PropertyChanged events for you, if you wrap your view model before giving it to the view:</p>
<pre>Customer customer = <span style="color: blue">new</span> Customer();
<span style="color: green">// Load the customer from the web service.</span>

Payment payment = <span style="color: blue">new</span> Payment(customer);
<span style="color: green">// Load the payment from the web service.</span>

DataContext = ForView.Wrap(
	<span style="color: blue">new</span> PaymentViewModel(
		payment,
		<span style="color: blue">new</span> PaymentNavigationModel()));</pre>
<p>Update Controls makes it much easier to create line-of-business applications in Silverlight 3, because you don't have to deal with INotifyPropertyChanged.</p>
				</div>

				<p class="postmetadata">Posted in <a href="indexa88f.html?cat=36" title="View all posts in Update Controls" rel="category">Update Controls</a> |   <a href="index17f1.html?p=346#respond" title="Comment on Data Binding in Silverlight 3 Without INotifyPropertyChanged">No Comments &#187;</a></p>

			</div>

				<div class="post">
				<h3 id="post-345"><a href="index50ca.html?p=345" rel="bookmark" title="Permanent Link to The Commuter View Model">The Commuter View Model</a></h3>
				<small>Monday, May 11th, 2009</small>

				<div class="entry">
					<p>I'm working on an application to automatically manage an iTunes playlist. I've done the proof-of-concept and created a <a href="indexc2ef.html?p=342">historic model</a>. Now I want to describe the functionality of the user interface. I'll do this by drawing a UI mockup, and by defining an interface for the View Model.</p>
<p>The View Model is the name typically used in WPF for Martin Fowler's <a href="http://martinfowler.com/eaaDev/PresentationModel.html">Presentation Model</a> pattern. It is a class designed specifically for a view. It presents all of the information visible on the view, it accepts all of the input that the view gathers, and it provides all of the commands that the view exposes.</p>
<p>I like to think of a UI as merely a convenience. If the user had a compiler instead of a UI, he could still use your application. The View Model is the user's API to your program.</p>
<p><strong>The View Model</strong><br />An API is best defined as an interface. Here's the API that we are presenting to the user:</p>
<pre><span style="color: blue">public</span> <span style="color: blue">interface</span> <font color="#0080c0">IPlaylist</font>
{
    <span style="color: blue">string</span> Name { <span style="color: blue">get</span>; }
}

<span style="color: blue">public</span> <span style="color: blue">interface</span> <font color="#0080c0">IPodcast</font>
{
    <span style="color: blue">string</span> Name { <span style="color: blue">get</span>; }
    <span style="color: blue">bool</span> Selected { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
    <span style="color: blue">int</span> Rank { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
}

<span style="color: blue">public</span> <span style="color: blue">interface</span> <font color="#0080c0">IPodcastEpisode</font>
{
    <span style="color: blue">string</span> Name { <span style="color: blue">get</span>; }
    <span style="color: blue">string</span> PodcastName { <span style="color: blue">get</span>; }
    <span style="color: blue">string</span> DurationAsString { <span style="color: blue">get</span>; }
}

<span style="color: blue">public</span> <span style="color: blue">interface</span> <font color="#0080c0">ICommuterViewModel</font>
{
    <font color="#0080c0">IEnumerable</font>&lt;<font color="#0080c0">IPlaylist</font>&gt; Playlists { <span style="color: blue">get</span>; }
    <font color="#0080c0">IPlaylist</font> <font color="#0080c0">SelectedPlaylist</font> { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }

    <font color="#0080c0">IEnumerable</font>&lt;<font color="#0080c0">IPodcast</font>&gt; Podcasts { <span style="color: blue">get</span>; }

    <font color="#0080c0">IEnumerable</font>&lt;<font color="#0080c0">IPodcastEpisode</font>&gt; Queue { <span style="color: blue">get</span>; }
    <font color="#0080c0">IPodcastEpisode</font> SelectedEpisode { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }
    <span style="color: blue">string</span> TotalDurationAsString { <span style="color: blue">get</span>; }

    <font color="#0080c0">ICommand</font> Skip { <span style="color: blue">get</span>; }
}
</pre>
<p>This API lets the user see all of their playlists, and select one. It lets them see all of their podcasts, and individually select and rank them. Then it shows their queue, lets them select an episode, and skip it.</p>
<p><strong>The mockup</strong><br />For the user's convenience, we will also provide this view (my code is much neater than my drawing):</p>
<p align="center"><a href="wp-content/uploads/2009/05/commuter-mockup.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="556" alt="Commuter Mockup" src="wp-content/uploads/2009/05/commuter-mockup-thumb.png" width="420" border="0"></a></p>
<p> You can see how each of the View Model properties maps to the view. With this interface, mockup, and Blend, a designer can create a nice convenient UI for our user. Just so they don't have to get their hands dirty with a compiler. That's our next step.</p>
				</div>

				<p class="postmetadata">Posted in <a href="indexc733.html?cat=38" title="View all posts in Commuter" rel="category">Commuter</a>,  <a href="indexb0b7.html?cat=6" title="View all posts in Patterns" rel="category">Patterns</a> |   <a href="index50ca.html?p=345#respond" title="Comment on The Commuter View Model">No Comments &#187;</a></p>

			</div>

				<div class="post">
				<h3 id="post-342"><a href="indexc2ef.html?p=342" rel="bookmark" title="Permanent Link to Modeling an iTunes automation application">Modeling an iTunes automation application</a></h3>
				<small>Saturday, May 9th, 2009</small>

				<div class="entry">
					<p>I listen to podcasts on the way to work. I've created a playlist called "Commute" that I use to make this hands-free. Here's my workflow:</p>
<ul>
<li>Dock the iPod before bed, which launches iTunes and updates play counts.</li>
<li>Delete all episodes from the Commute playlist with a play count of 1.</li>
<li>iTunes (usually) downloads the latest episodes overnight. If not, I kick it in the morning.</li>
<li>Drag new episodes into the Commute playlist.</li>
</ul>
<p>In the car, I just start the playlist and it takes me to work and back.</p>
<p>It has occurred to me on more than one occasion that this process could be automated. I finally decided to take on the task. After a quick POC with the iTunes COM interface, I decided that it was possible.</p>
<p><strong>Commuter</strong><br />The application, currently named "Commuter", will automatically queue selected podcasts in a specified playlist. Here's what a user can do:</p>
<ul>
<li>See playlists and podcast subscriptions managed in iTunes.</li>
<li>Select a playlist into which to queue the episodes.</li>
<li>Select podcast subscriptions to use.</li>
<li>Rank subscriptions to influence the order in which they are queued.</li>
</ul>
<p>From this information, the program manages the queue within the selected playlist.</p>
<p><strong>The historic model</strong><br />I prefer to use an analysis technique that I call Historic Modeling. This technique captures more information than data modeling alone. It includes all of the changes that can be made to the system, and the relationships among those changes. Here is the model I came up with:</p>
<p align="center"><a href="wp-content/uploads/2009/05/commuter.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="272" alt="commuter" src="wp-content/uploads/2009/05/commuter-thumb.png" width="660" border="0"></a> </p>
<p>Each bubble represents a fact. A fact is an entity that was created, a property that was changed, or an operation that was performed. The arrows between facts indicate that one has to occur before the other. The successor fact has knowledge of its predecessor.</p>
<p>A Commuter, for example, has knowledge of a MusicLibrary, and cannot be created before the MusicLibrary exists. A SelectedPlaylist records the fact that a Commuter has selected a Playlist. It also records the Commuter's prior selection, if any.</p>
<p>Facts are immutable. A Commuter can select a new Playlist, but the fact that he had once selected a particular Playlist will always be true.</p>
<p>Some of these facts are operations that the user performs, some of them represent iTunes synchronization, and some represent decisions of the program itself. All of these facts are interrelated. User actions are made with knowledge of iTunes objects, and program decisions are made because of user actions.</p>
<p>The next steps will be to mock up the UI and define a view model.</p>
				</div>

				<p class="postmetadata">Posted in <a href="indexc733.html?cat=38" title="View all posts in Commuter" rel="category">Commuter</a> |   <a href="indexc2ef.html?p=342#respond" title="Comment on Modeling an iTunes automation application">No Comments &#187;</a></p>

			</div>

		
		<div class="navigation">
			<div class="alignleft"></div>
			<div class="alignright"></div>
		</div>

	
	</div>
		</td>
	</tr>
</table>

<hr />
<div id="footer">
<!-- If you'd like to support WordPress, having the "powered by" link someone on your blog is the best way, it's our only promotion or advertising. -->
	<p>
		Adventures in Software is proudly powered by 
		<a href="http://wordpress.org/">WordPress</a>
		<br /><a href="indexd784.html?feed=rss2">Entries (RSS)</a>
		and <a href="indexa6da.html?feed=comments-rss2">Comments (RSS)</a>.
		<!-- 17 queries. 0.451 seconds. -->
	</p>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-389401-3");
pageTracker._trackPageview();
} catch(err) {}</script></div>

<!-- Gorgeous design by Michael Heilemann - http://binarybonsai.com/kubrick/ -->

		<div id="sk2-footer" style="color:#FFF; background-color:#444; padding: 3px 2px 3px 2px; border-top: #888 solid 1px;">This blog is protected by <a href="http://unknowngenius.com/blog/" title="Dave">dr Dave</a>'s <strong><a href="http://unknowngenius.com/blog/wordpress/spam-karma/" title="SK2">Spam Karma 2</a></strong>: <strong>274531</strong>  Spams eaten and counting...</div><script type="text/javascript" src="replies.js"></script>
<script type="text/javascript" src="blogger.js"></script>
<script type="text/javascript" src="http://twitter.com/statuses/user_timeline/michaellperry.json?callback=twitterCallback2&amp;count=5"></script>
<script type="text/javascript" src="http://search.twitter.com/search.json?q=@michaellperry&amp;callback=twitterCallbackReplies&amp;rpp=5"></script>
</body>

<!-- Mirrored from adventuresinsoftware.com/blog/?m=200905 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 12:44:51 GMT -->
</html>
